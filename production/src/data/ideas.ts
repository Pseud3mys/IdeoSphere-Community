import { Idea } from '../types';
import { users, currentUser, guestUser } from './users';
import { defaultRatingCriteria } from './ratings';
import { getVersionsForIdea } from './versions';

// Function to create ideas data lazily to avoid circular dependencies
export function getMockIdeas(): Idea[] {
  return [
    {
      id: '1',
      title: 'Des bancs dans nos rues pour pouvoir se reposer',
      summary: 'Installer des bancs publics aux endroits strat√©giques du village pour que chacun puisse s\'arr√™ter, se reposer et discuter avec les voisins',
      description: `## Le manque de bancs dans notre village

√áa fait plusieurs fois qu'on en parle entre nous : il n'y a quasiment aucun endroit pour s'asseoir dans nos rues ! Entre les courses, les balades avec les enfants ou quand on vieillit... on a tous besoin de pouvoir faire une pause.

## Les endroits o√π on en aurait vraiment besoin

### Devant les commerces
- **Pharmacie** : pour attendre qu'elle ouvre ou faire une pause apr√®s les courses
- **Boulangerie** : le matin, on se croise tous, ce serait convivial
- **√âpicerie** : quand on a les bras charg√©s

### Sur les trajets quotidiens  
- **Rue principale** : entre la mairie et l'√©cole, c'est long pour les anciens
- **Arr√™t de bus** : au lieu de rester debout sous la pluie
- **Place du village** : au centre pour que ce soit un lieu de vie

### Dans les quartiers
- **Pr√®s du square** : pour surveiller les enfants qui jouent
- **Devant l'√©cole** : pour les parents qui attendent
- **Chemin de l'√©glise** : pour souffler en montant

## Ce que √ßa changerait vraiment

### Pour les personnes √¢g√©es
- Sorties facilit√©es quand on se fatigue vite
- Autonomie pr√©serv√©e pour aller aux commerces
- Moins d'isolement, plus de rencontres

### Pour les familles
- Pause pendant les balades avec poussette
- Endroit pour surveiller les enfants
- Moment pour discuter entre parents

### Pour tout le monde
- Convivialit√© : on s'arr√™te, on discute
- Villages plus vivants et accueillants
- Lieu de rencontre naturel

## Solutions concr√®tes et r√©alistes

### Types de bancs adapt√©s
- **Bancs simples en bois** : r√©sistants, √©conomiques
- **Avec dossier** : plus confortables pour les seniors
- **Espacement optimal** : ni trop pr√®s ni trop loin des commerces

### Financement participatif
- **Co√ªt estim√©** : 150-300‚Ç¨ par banc selon le mod√®le
- **Participation des habitants** : 20‚Ç¨ par famille volontaire
- **Demande de subvention** : conseil g√©n√©ral pour l'accessibilit√©

### Installation et entretien
- **Emplacements valid√©s** : avec les commer√ßants et la mairie
- **Entretien simple** : nettoyage et v√©rification 2 fois/an
- **Responsable par secteur** : un habitant qui surveille l'√©tat

## Planning r√©aliste

- **Mars** : identification pr√©cise des emplacements avec chacun
- **Avril** : recherche de financement et choix des mod√®les
- **Mai** : commande et installation des premiers bancs
- **Juin** : √©valuation et √©ventuels ajustements

Cette id√©e simple peut vraiment am√©liorer notre quotidien √† tous ! ü™ë`,
      creators: [users[0], users[3]], // Marie et Emma
      supporters: [users[0].id, users[1].id, users[2].id, users[3].id, currentUser.id],
      status: 'published',
      sourceIdeas: [],
      sourcePosts: ['post-1', 'post-2', 'post-3'], // Vient de plusieurs posts sur les bancs
      sourceDiscussions: [],
      derivedIdeas: [],
      discussionIds: ['dt11', 'dt12', 'dt13'], // Discussions sur les emplacements, financement, mod√®les
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 5, userId: '1' },
        { criterionId: 'potential', value: 5, userId: '2' },
        { criterionId: 'potential', value: 4, userId: '3' },
        { criterionId: 'feasibility', value: 5, userId: '1' },
        { criterionId: 'feasibility', value: 5, userId: '2' },
        { criterionId: 'feasibility', value: 5, userId: '3' },
        { criterionId: 'completion', value: 4, userId: '1' },
        { criterionId: 'completion', value: 4, userId: '2' },
        { criterionId: 'completion', value: 3, userId: '3' }
      ],
      createdAt: new Date('2024-01-10'),
      tags: ['vie-de-quartier', 'vieillesse']
    },
    {
      id: '2',
      title: 'Caf√©-r√©paration tous les premiers samedis',
      summary: 'Organiser un atelier mensuel o√π chacun apporte ses objets cass√©s pour les r√©parer ensemble, dans l\'esprit du partage et de l\'anti-gaspillage',
      description: `## L'id√©e du caf√©-r√©paration

J'ai encore jet√© mon grille-pain ce matin... üòî √áa m'emb√™te de jeter alors que Pierre pourrait s√ªrement le r√©parer ! Et si on organisait des moments pour bricoler ensemble au lieu de jeter ?

## Comment √ßa marcherait

### Le principe du repair caf√©
- **Quand** : premier samedi de chaque mois, 14h-17h
- **O√π** : salle des associations (demande √† faire)
- **Qui** : tous les habitants avec leurs objets cass√©s
- **Comment** : ceux qui savent r√©parer aident les autres

### Ce qu'on peut r√©parer ensemble
- **Petits √©lectrom√©nagers** : grille-pain, fer √† repasser, bouilloire...
- **V√™tements** : couture, reprises, ourlets, fermetures √©clair
- **V√©los** : cha√Æne, freins, pneus, d√©railleur
- **Jouets des enfants** : roues cass√©es, piles, m√©canismes
- **Petit mobilier** : chaises bancales, tiroirs qui coincent

## Pourquoi j'y crois vraiment

### Contre le gaspillage quotidien
- On √©vite de jeter ce qui peut remarcher
- On √©conomise sur les rachats constants
- Moins de d√©chets dans nos poubelles !

### Pour cr√©er du lien
- Les bricoleurs partagent leurs comp√©tences
- Les autres apprennent des gestes utiles  
- Moment convivial autour d'un caf√© ‚òï
- Les enfants voient qu'on peut r√©parer

### Pour notre pouvoir d'achat
- Moins d'achats neufs = vraies √©conomies
- On devient plus autonomes
- On valorise les savoir-faire du village

## Organisation pratique et simple

### Mat√©riel et outils
- Chacun apporte ses outils si possible
- Bo√Æte √† outils commune pour les bases
- Fer √† souder, tournevis, aiguilles...
- Pierre a propos√© d'apporter son outillage !

### Ambiance conviviale
- Caf√© et g√¢teaux partag√©s
- Musique de fond
- Les enfants peuvent venir avec leurs parents
- Pas de stress : si √ßa marche pas, on aura essay√© !

### Planning des "experts"
- **Pierre** : √©lectrom√©nager et bricolage
- **Sophie** : couture et textiles  
- **Thomas** : v√©los et m√©canismes
- **Et tous ceux qui veulent partager** !

## Les vrais b√©n√©fices

Ce qui me pla√Æt dans cette id√©e, c'est qu'on arr√™te ce r√©flexe de "c'est cass√© = poubelle". On redonne une chance aux objets, on apprend ensemble, et surtout on passe un bon moment !

Et puis voir la joie sur le visage quand l'objet remarche... √ßa n'a pas de prix ! üîß‚ú®`,
      creators: [users[1], users[4]], // Pierre + Thomas
      supporters: [users[1].id, users[2].id, users[4].id, currentUser.id],
      status: 'published',
      sourceIdeas: [],
      sourcePosts: ['post-4'], // Vient du post sur le grille-pain cass√©
      sourceDiscussions: [], // Discussions qui ont inspir√© cette id√©e
      derivedIdeas: ['7'], // L'id√©e 7 est une version de cette id√©e
      discussionIds: ['dt4', 'dt5', 'dt6'], // Discussions sur le mat√©riel, le lieu, l'organisation
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 5, userId: '1' },
        { criterionId: 'potential', value: 4, userId: '2' },
        { criterionId: 'potential', value: 5, userId: '4' },
        { criterionId: 'feasibility', value: 4, userId: '1' },
        { criterionId: 'feasibility', value: 4, userId: '2' },
        { criterionId: 'feasibility', value: 5, userId: '4' },
        { criterionId: 'completion', value: 3, userId: '1' },
        { criterionId: 'completion', value: 4, userId: '2' },
        { criterionId: 'completion', value: 4, userId: '4' }
      ],
      createdAt: new Date('2024-01-15'),
      tags: ['solidarit√©', 'associatif']
    },
    {
      id: '3',
      title: 'Syst√®me d\'√©change de services entre voisins',
      summary: 'Cr√©er un r√©seau local d\'entraide o√π chacun propose ses comp√©tences et peut demander de l\'aide √† ses voisins',
      description: `## L'id√©e d'un r√©seau d'entraide local

Hier j'avais des courses lourdes et j'aurais bien eu besoin d'un coup de main... üõí En m√™me temps, moi je peux aider avec l'informatique ! On pourrait pas s'organiser pour s'entraider ?

## Comment organiser les √©changes vraiment

### Le principe de base (simple mais efficace)
- Chacun propose ce qu'il sait faire ou peut offrir
- Chacun peut demander de l'aide quand il en a besoin
- Sans argent, juste de la bonne volont√© !
- Personne n'est oblig√©, on aide quand on peut

### Types de services du quotidien qu'on pourrait √©changer

**Aide pratique qui nous manque souvent :**
- **Courses lourdes** : sacs de lessive, packs d'eau, gros achats
- **Transport occasionnel** : RDV m√©dical, panne de voiture
- **Garde d'enfants ponctuelle** : urgence, emp√™chement de derni√®re minute
- **Aide au d√©m√©nagement** : m√™me juste quelques cartons

**Savoir-faire qu'on a dans le village :**
- **Aide informatique** : Thomas est dou√© pour √ßa !
- **Conseils jardinage** : Pierre s'y conna√Æt vraiment
- **Petites r√©parations** : plomberie de base, √©lectricit√© simple
- **Soutien scolaire** : Marie peut aider en fran√ßais

**Pr√™ts de mat√©riel qu'on utilise peu :**
- Outils de bricolage ou jardinage
- √âchelle, perceuse, tondeuse
- Appareils ponctuels (nettoyeur haute pression...)
- Livres, jeux, films

## Comment s'organiser concr√®tement

### Version simple : tableau papier
- Affich√© chez Marie √† la pharmacie (pratique et central)
- Colonne "Je propose" / "Je cherche"
- Nom et t√©l√©phone pour contact direct
- Mis √† jour r√©guli√®rement

### Version num√©rique si on veut
- Groupe WhatsApp du village (rapide)
- Page Facebook "Entraide [notre village]"
- Ou juste un carnet chez les commer√ßants

## Les r√®gles du bon voisinage

- **Entraide gratuite** : pas d'argent, juste de la g√©n√©rosit√©
- **Respect des disponibilit√©s** : on n'insiste pas si la personne ne peut pas
- **Aucune obligation** : on aide selon ses moyens et envies
- **Remerciements** : un petit mot fait toujours plaisir
- **R√©ciprocit√© naturelle** : pas comptabilis√©, mais chacun contribue comme il peut

## Pourquoi √ßa marcherait chez nous

### On a d√©j√† les bonnes bases
- On se conna√Æt un peu entre nous
- Plein de comp√©tences diff√©rentes dans le village
- Bonne mentalit√© d'entraide d√©j√† pr√©sente

### √áa r√©pond √† de vrais besoins
- **Familles** : coups de main ponctuels avec les enfants
- **Personnes seules** : aide pour les gros travaux ou courses lourdes
- **Retrait√©s** : services contre compagnie et conseils
- **Tous** : √©conomies et liens sociaux renforc√©s

### Les b√©n√©fices concrets
- Moins de gal√®re dans les moments compliqu√©s
- Plus d'autonomie pour chacun
- Liens entre g√©n√©rations
- Village plus solidaire et vivant

Je pense qu'on a tous quelque chose √† offrir et quelque chose √† demander. L'entraide, c'est ce qui fait la vraie richesse d'un village ! ü§ù

Et franchement, la prochaine fois que j'ai mes packs d'eau √† porter, √ßa m'arrangerait bien ! üòÖ`,
      creators: [users[2], users[3]], // Sophie + Emma
      supporters: [users[0].id, users[2].id, users[3].id, users[4].id, currentUser.id],
      status: 'published',
      sourceIdeas: [],
      sourcePosts: ['post-5'], // Vient du post sur l'aide pour les courses
      derivedIdeas: [],
      discussionIds: ['dt7', 'dt8'], // Discussions sur l'organisation et les r√®gles
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 5, userId: '1' },
        { criterionId: 'potential', value: 5, userId: '2' },
        { criterionId: 'potential', value: 4, userId: '3' },
        { criterionId: 'feasibility', value: 5, userId: '1' },
        { criterionId: 'feasibility', value: 4, userId: '2' },
        { criterionId: 'feasibility', value: 5, userId: '3' },
        { criterionId: 'completion', value: 3, userId: '1' },
        { criterionId: 'completion', value: 4, userId: '2' },
        { criterionId: 'completion', value: 4, userId: '3' }
      ],
      createdAt: new Date('2024-01-20'),
      tags: ['solidarit√©', 'vie-de-quartier']
    },
    {
      id: '4',
      title: 'R√©parer les nids de poule rue des √âcoles',
      summary: 'Signaler et organiser la r√©paration des trous dans la chauss√©e qui ab√Æment les voitures et sont dangereux pour les pi√©tons',
      description: `## Le probl√®me des nids de poule rue des √âcoles

√áa fait des mois qu'on slalome entre les trous ! Entre celui devant chez Pierre qui fait sauter les amortisseurs et celui pr√®s de l'√©cole qui retient l'eau... il faut qu'on s'organise pour que √ßa bouge !

## Les endroits les plus probl√©matiques

### Devant l'√©cole (le pire)
- **Gros trou** qui se remplit d'eau √† chaque pluie
- **Dangereux** pour les enfants qui contournent
- **√âclaboussures** sur les parents quand les voitures passent
- **Urgence** : c'est le passage le plus fr√©quent√©

### Devant chez Pierre (n¬∞15)
- **Trou profond** qui fait mal aux suspensions
- Les **voitures ralentissent** et √ßa fait des bouchons
- **Difficile √† voir** le soir √† cause de l'√©clairage

### Vers la pharmacie
- **S√©rie de petits trous** qui deviennent de plus en plus gros
- **Probl√®me pour les v√©los** et les poussettes
- Surtout **glissant quand il pleut**

## Ce que √ßa nous co√ªte vraiment

### Pour nos voitures
- **Pneus us√©s** plus vite √† force d'√©viter
- **Amortisseurs** qui prennent cher
- **Jantes** risquent de se voiler
- Thomas a d√©j√† eu une crevaison !

### Pour notre s√©curit√©
- **Pi√©tons** oblig√©s de marcher sur la route
- **Enfants** qui font des d√©tours dangereux
- **V√©los** qui zigzaguent entre les voitures
- **Chutes** possibles, surtout pour les personnes √¢g√©es

### Pour l'image du village
- **Premi√®re impression** pas terrible pour les visiteurs  
- **Aspect n√©glig√©** qui fait baisser la valeur des maisons
- **Probl√®me basique** qui para√Æt simple √† r√©soudre

## Solutions concr√®tes √† notre port√©e

### Signalement officiel coordonn√©
- **Tous ensemble** : on fait un signalement group√© √† la mairie
- **Photos** et localisation pr√©cise de chaque trou
- **P√©tition** avec signatures de tous les riverains
- **Relance** r√©guli√®re jusqu'√† ce que √ßa bouge

### Solutions temporaires en attendant
- **Signalisation** des trous les plus dangereux
- **Balisage** avec des c√¥nes ou marquage visible
- **√âvacuation de l'eau** qui stagne (pierre, gravillon...)

### Financement et travaux
- **Devis** aupr√®s d'entreprises locales
- **Subventions** d√©partementales pour voirie
- **Planification** : profiter d'autres travaux de rue

## Organisation pratique

### Recensement pr√©cis
- **Pierre** : faire le tour avec Thomas pour photographier
- **Emma** : localiser sur plan et noter les dimensions
- **Marie** : contacter la mairie pour conna√Ætre la proc√©dure

### Suivi du dossier
- **R√©f√©rent** pour relancer r√©guli√®rement
- **Information** des habitants sur l'avancement
- **Coordination** avec les autres projets de voirie

## Planning r√©aliste

- **F√©vrier** : recensement complet et photos
- **Mars** : dossier officiel √† la mairie + p√©tition
- **Avril** : relance et recherche de financement
- **Mai-Juin** : travaux esp√©r√©s (selon planning municipal)

Cette id√©e peut para√Ætre basique, mais c'est exactement le genre de probl√®me concret qu'on peut r√©soudre en s'y mettant tous ensemble ! Et franchement, ne plus esquiver les trous comme des slalomeurs, √ßa serait le bonheur ! üöó`,
      creators: [users[1], users[4]], // Pierre + Thomas
      supporters: [users[0].id, users[1].id, users[2].id, users[4].id, currentUser.id],
      status: 'published',
      sourceIdeas: [],
      sourcePosts: ['post-6'], // Vient du post sur les nids de poule
      sourceDiscussions: [],
      derivedIdeas: [],
      discussionIds: ['dt14', 'dt15', 'dt16'], // Discussions sur signalement, proc√©dures, solutions temporaires
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 4, userId: '1' },
        { criterionId: 'potential', value: 5, userId: '2' },
        { criterionId: 'potential', value: 4, userId: '4' },
        { criterionId: 'feasibility', value: 4, userId: '1' },
        { criterionId: 'feasibility', value: 3, userId: '2' },
        { criterionId: 'feasibility', value: 4, userId: '4' },
        { criterionId: 'completion', value: 3, userId: '1' },
        { criterionId: 'completion', value: 3, userId: '2' },
        { criterionId: 'completion', value: 3, userId: '4' }
      ],
      createdAt: new Date('2024-01-18'),
      tags: ['vie-de-quartier']
    },
    {
      id: '5',
      title: 'Solution pour le stationnement devant l\'√©cole',
      summary: 'Organiser le stationnement chaotique aux heures d\'entr√©e et sortie d\'√©cole qui bloque la circulation et met les enfants en danger',
      description: `## Le bazar du stationnement devant l'√©cole

Tous les matins et le soir, c'est la m√™me gal√®re ! Les voitures gar√©es n'importe o√π, les enfants qui courent entre les v√©hicules, et nous qui r√¢lons tous dans nos voitures... Il faut qu'on trouve une solution !

## Le probl√®me qu'on vit tous les jours

### Aux heures de pointe (8h et 16h30)
- **Voitures en double file** : impossible de passer
- **Stationnement sur les trottoirs** : poussettes et pi√©tons sur la route
- **Embouteillages** qui remontent jusqu'√† la pharmacie
- **√ânervement g√©n√©ral** : klaxons, disputes entre parents

### Les dangers pour nos enfants
- **Visibilit√© r√©duite** : on ne voit pas les petits entre les voitures
- **Courses** pour traverser vite entre les v√©hicules
- **V√©los** oblig√©s de se faufiler dangereusement
- **Parents stress√©s** qui font des man≈ìuvres hasardeuses

### L'impact sur le village
- **Commerce** : les clients √©vitent la pharmacie aux heures d'√©cole
- **Riverains** : impossible de sortir de chez eux
- **Image** : premi√®re impression catastrophique pour les visiteurs
- **Conflits** : tensions entre parents et habitants

## Solutions concr√®tes et r√©alisables

### Organisation du stationnement

**Zones d√©finies clairement :**
- **Parking autoris√©** : places marqu√©es le long de la rue
- **Zone interdite** : devant l'entr√©e de l'√©cole (5 minutes max)
- **Sens de circulation** : obligatoire pour fluidifier
- **Places r√©serv√©es** : handicap√©s et livraisons

**Signalisation renforc√©e :**
- **Panneaux** : "Arr√™t 5 min max - √âcole"
- **Marquage au sol** : places et interdictions visibles
- **Feux clignotants** : aux heures critiques si possible

### Solutions alternatives de transport

**Encourager les autres modes :**
- **P√©dibus** : groupes d'enfants accompagn√©s √† pied
- **Covoiturage scolaire** : entre parents du m√™me secteur
- **V√©los** : parking s√©curis√© pour les enfants
- **Transport scolaire** : optimiser les ramassages existants

### Organisation des parents

**Planning de surveillance b√©n√©vole :**
- **Parents volontaires** : 2 par cr√©neau pour r√©guler
- **Roulement** : chacun 1 fois par mois maximum
- **Formation simple** : gestes et consignes de s√©curit√©
- **Coordination** avec l'√©cole et la mairie

## Mise en ≈ìuvre r√©aliste

### Phase 1 : Organisation imm√©diate (1 mois)
- **R√©union parents/√©cole/mairie** : d√©finir les r√®gles ensemble
- **B√©n√©voles** : constituer l'√©quipe de r√©gulation
- **Test** : essai sur 2-3 semaines pour ajuster

### Phase 2 : Am√©nagements l√©gers (2-3 mois)
- **Marquage** : peinture pour d√©limiter les places
- **Panneaux** : signalisation claire et visible
- **√âvaluation** : bilan avec tous les acteurs

### Phase 3 : Am√©liorations (6 mois)
- **Am√©nagements** : selon budget et besoins identifi√©s
- **P√©dibus** : mise en place si int√©r√™t des familles
- **P√©rennisation** : r√®gles int√©gr√©es dans le fonctionnement

## Financement et soutien

### Co√ªts mod√©r√©s
- **Marquage au sol** : 200-300‚Ç¨
- **Panneaux** : 150-250‚Ç¨ 
- **Mat√©riel b√©n√©voles** : gilets, sifflets (50‚Ç¨)

### Soutien possible
- **Mairie** : prise en charge des am√©nagements
- **√âcole** : coordination et communication
- **Parents** : b√©n√©volat et financement participatif si besoin

## B√©n√©fices pour tous

- **S√©curit√©** : enfants prot√©g√©s, stress r√©duit
- **Fluidit√©** : circulation normale dans le village
- **Convivialit√©** : moins de tensions, plus d'entraide
- **Exemple** : solution qui peut inspirer d'autres villages

Cette probl√©matique, on la vit tous ! Avec un peu d'organisation et de bonne volont√©, on peut transformer ce moment de stress quotidien en quelque chose qui marche pour tout le monde ! üö∏`,
      creators: [users[0], users[3]], // Marie + Emma
      supporters: [users[0].id, users[1].id, users[3].id, users[4].id, currentUser.id],
      status: 'published',
      sourceIdeas: [],
      sourcePosts: ['post-7', 'post-8'], // Vient des posts sur le stationnement √©cole
      sourceDiscussions: [],
      derivedIdeas: [],
      discussionIds: ['dt17', 'dt18', 'dt19'], // Discussions sur organisation b√©n√©voles, r√®gles, alternatives
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 5, userId: '1' },
        { criterionId: 'potential', value: 4, userId: '3' },
        { criterionId: 'potential', value: 4, userId: '4' },
        { criterionId: 'feasibility', value: 4, userId: '1' },
        { criterionId: 'feasibility', value: 4, userId: '3' },
        { criterionId: 'feasibility', value: 3, userId: '4' },
        { criterionId: 'completion', value: 3, userId: '1' },
        { criterionId: 'completion', value: 4, userId: '3' },
        { criterionId: 'completion', value: 3, userId: '4' }
      ],
      createdAt: new Date('2024-01-25'),
      tags: ['jeunesse', 'vie-de-quartier']
    },
    
    // Version am√©lior√©e de l'id√©e des bancs (bas√©e sur l'id√©e '1')
    {
      id: 'idea-version-1',
      title: 'Bancs intelligents avec recharge solaire et WiFi',
      summary: 'Une version √©volu√©e des bancs publics incluant des ports USB solaires et des zones WiFi gratuit pour moderniser l\'espace public',
      description: `## √âvolution de l'id√©e originale des bancs

Apr√®s avoir lu l'excellente proposition de Marie sur les bancs publics, je pense qu'on peut aller plus loin et cr√©er des "bancs intelligents" qui r√©pondent aux besoins d'aujourd'hui.

## Ce qui reste de l'id√©e originale

‚úÖ **Tous les emplacements propos√©s par Marie** : devant les commerces, arr√™t de bus, place du village  
‚úÖ **Accessibilit√©** : bancs avec dossiers et accoudoirs pour les personnes √¢g√©es  
‚úÖ **Convivialit√©** : espaces pour se rencontrer et discuter  

## Les am√©liorations modernes

### Ports USB √† √©nergie solaire
- **Panneau solaire int√©gr√©** dans le dossier du banc
- **2-3 ports USB** pour recharger t√©l√©phones/tablettes
- **√âclairage LED** automatique le soir
- **Autonome** : aucun raccordement √©lectrique n√©cessaire

### Zone WiFi publique gratuite
- **Hotspot WiFi** aliment√© par le panneau solaire
- **Acc√®s limit√©** : 1h par jour par appareil pour √©viter l'abus
- **Couverture** : 20-30 m√®tres autour du banc
- **Filtrage familial** automatique

### Design moderne et durable
- **Mat√©riaux recycl√©s** : plastique oc√©anique pour l'assise
- **Structure m√©tal** : r√©sistante au vandalisme
- **Forme ergonomique** : confort pour tous les √¢ges
- **Maintenance r√©duite** : mat√©riaux auto-nettoyants

## Nouveaux b√©n√©fices

### Pour les jeunes
- **Attraction** : endroit cool o√π se retrouver
- **Connexion** : pouvoir recharger et se connecter
- **Inclusion** : les ados ne fuient plus l'espace public

### Pour les touristes
- **Praticit√©** : recharge et infos pendant la visite
- **Image moderne** : village connect√© et accueillant
- **√âconomie locale** : temps pass√© = consommation

### Pour tous
- **S√©curit√©** : √©clairage automatique le soir
- **Information** : page d'accueil WiFi avec actualit√©s locales
- **Modernit√©** : village √† la pointe de l'innovation

## Mise en ≈ìuvre r√©aliste

### Financement partag√©
- **Subventions** : transition num√©rique rurale
- **Sponsoring** : entreprises locales (nom sur la page WiFi)
- **Participation** : crowdfunding villageois

### Installation progressive
1. **Phase test** : 1 banc devant la mairie pour 6 mois
2. **√âvaluation** : usage, satisfaction, probl√®mes
3. **D√©ploiement** : 3-4 bancs aux emplacements prioritaires

### Co√ªt estim√©
- **Banc intelligent** : 1500-2000‚Ç¨ l'unit√©
- **Installation** : 300-500‚Ç¨ par banc
- **Maintenance** : tr√®s faible (solaire + mat√©riaux durables)

## Pourquoi cette version est meilleure

L'id√©e de Marie √©tait excellente pour cr√©er du lien social. Cette version garde tout cela ET attire une nouvelle population (jeunes, familles connect√©es, touristes) tout en projetant le village vers l'avenir.

C'est un investissement plus important mais qui transforme vraiment l'espace public ! üì±‚ö°Ô∏èüîó`,
      creators: [users[4]], // Thomas (qui aime la tech)
      supporters: [users[0].id, users[2].id, users[4].id, currentUser.id], // Marie soutient sa version am√©lior√©e
      status: 'published',
      sourceIdeas: ['1'], // Bas√©e sur l'id√©e des bancs de Marie
      sourcePosts: [],
      sourceDiscussions: [],
      derivedIdeas: [],
      discussionIds: ['dt25', 'dt26'], 
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 4, userId: '2' },
        { criterionId: 'potential', value: 5, userId: '4' },
        { criterionId: 'feasibility', value: 3, userId: '2' },
        { criterionId: 'feasibility', value: 3, userId: '4' },
        { criterionId: 'completion', value: 4, userId: '2' },
        { criterionId: 'completion', value: 4, userId: '4' }
      ],
      createdAt: new Date('2024-01-28'),
      tags: ['modernisation', 'digital', 'innovation']
    },

    // Version am√©lior√©e de l'id√©e d'√©clairage (bas√©e sur l'id√©e '2')  
    {
      id: 'idea-version-2',
      title: '√âclairage participatif avec application mobile',
      summary: 'Extension de l\'id√©e d\'√©clairage avec une app pour signaler les probl√®mes et adapter l\'intensit√© selon les besoins des habitants',
      description: `## Faire √©voluer l'id√©e d'√©clairage de Pierre

L'id√©e de Pierre sur l'√©clairage LED √©tait tr√®s pertinente ! Je propose de l'enrichir avec une dimension participative gr√¢ce au num√©rique.

## L'id√©e de base conserv√©e

‚úÖ **LED avec d√©tecteurs** : √©conomie d'√©nergie de 70%  
‚úÖ **Zones prioritaires** : rue des Granges, rue du Commerce, √©cole  
‚úÖ **√âclairage adaptatif** : fort au passage, doux en permanence  

## L'innovation participative

### Application mobile "Mon √âclairage"

**Signalement citoyen :**
- **Photo + localisation** : signaler un lampadaire d√©faillant
- **Notification automatique** : aux services techniques
- **Suivi** : statut de la r√©paration en temps r√©el
- **Historique** : voir les interventions dans le quartier

**Adaptation communautaire :**
- **Vote intensit√©** : les riverains d√©finissent le niveau d'√©clairage
- **Horaires sp√©ciaux** : renforcement pour √©v√©nements (f√™tes, march√©s)
- **Zones temporaires** : √©clairage renforc√© pour travaux ou chantiers
- **Statistiques** : consommation et √©conomies en temps r√©el

### Capteurs intelligents

**Au-del√† du mouvement :**
- **Luminosit√© ambiante** : adaptation m√©t√©o (nuage/soleil)
- **Comptage passage** : donn√©es anonymes d'affluence
- **Bruit ambiant** : renforcement si activit√© inhabituelle
- **Temp√©rature** : optimisation selon la saison

## Nouveaux avantages

### Pour les habitants
- **Participation active** : vraie consultation sur l'√©clairage
- **R√©activit√©** : pannes signal√©es et r√©par√©es rapidement
- **Transparence** : voir l'impact de nos imp√¥ts sur l'√©clairage
- **S√©curit√© renforc√©e** : √©clairage adapt√© aux vrais besoins

### Pour la mairie
- **Maintenance pr√©dictive** : anticiper les pannes
- **Optimisation budg√©taire** : √©clairage juste n√©cessaire
- **Donn√©es d'usage** : comprendre les flux dans le village
- **Communication** : montrer l'innovation aux habitants

### Pour l'environnement
- **√âconomie maximale** : √©clairage au plus juste besoin
- **Pollution lumineuse r√©duite** : respect de la faune nocturne
- **Dur√©e de vie prolong√©e** : LED moins sollicit√©es
- **Bilan carbone** : suivi des √©conomies d'√©nergie

## Mise en ≈ìuvre progressive

### Phase 1 : Pilot rue des Granges (3 mois)
- **3 lampadaires intelligents** avec capteurs complets
- **Application** : version beta avec 20 testeurs volontaires
- **Mesures** : consommation, satisfaction, pannes

### Phase 2 : Extension (6 mois)
- **D√©ploiement** : autres rues selon budget et retours
- **Application publique** : tous les habitants
- **Formation** : ateliers d'utilisation pour les moins connect√©s

### Co√ªt diff√©rentiel
- **Surco√ªt par lampadaire** : +300‚Ç¨ pour capteurs intelligents
- **Application** : 2000‚Ç¨ d√©veloppement initial
- **Serveur/maintenance** : 500‚Ç¨/an
- **Retour investissement** : 2-3 ans (√©conomies + efficacit√©)

## Pourquoi cette version va plus loin

L'id√©e de Pierre √©tait excellente pour l'efficacit√© √©nerg√©tique. Cette version ajoute l'intelligence collective et fait des habitants de vrais acteurs de leur environnement lumineux.

Un petit village qui innove et implique ses citoyens ! üí°üì±üåô`,
      creators: [users[2]], // Sophie (enseignante, aime l'innovation participative)
      supporters: [users[1].id, users[2].id, users[3].id, currentUser.id], // Pierre soutient l'√©volution de son id√©e
      status: 'published',
      sourceIdeas: ['2'], // Bas√©e sur l'id√©e d'√©clairage de Pierre
      sourcePosts: [],
      sourceDiscussions: [],
      derivedIdeas: [],
      discussionIds: ['dt27', 'dt28'],
      ratingCriteria: defaultRatingCriteria,
      ratings: [
        { criterionId: 'potential', value: 5, userId: '1' },
        { criterionId: 'potential', value: 4, userId: '3' },
        { criterionId: 'feasibility', value: 3, userId: '1' },
        { criterionId: 'feasibility', value: 2, userId: '3' },
        { criterionId: 'completion', value: 4, userId: '1' },
        { criterionId: 'completion', value: 4, userId: '3' }
      ],
      createdAt: new Date('2024-01-30'),
      tags: ['participatif', 'num√©rique', 'innovation']
    }
  ];
}

// Export the ideas lazily
export const mockIdeas = getMockIdeas();

// Fonction pour r√©cup√©rer une id√©e avec ses donn√©es li√©es charg√©es dynamiquement
export function getIdeaWithRelatedData(ideaId: string): Idea | undefined {
  const idea = mockIdeas.find(i => i.id === ideaId);
  if (!idea) return undefined;

  const versions = getVersionsForIdea(ideaId);
  
  console.log(`Loading idea ${ideaId} - found ${versions.length} versions`);

  return {
    ...idea,
    ideaVersions: versions
  };
}